<template>
  <div class="min-h-screen flex items-center justify-center p-8 relative bg-gray-100 overflow-hidden">
    <div class="max-w-3xl w-full bg-white rounded-3xl p-12 shadow-2xl text-center relative z-10">
      <!-- 404 å‹•ç•«å€åŸŸ -->
      <div class="mb-8">
        <div class="flex justify-center items-center gap-4 mb-8">
          <span class="text-8xl font-bold animate-bounce text-gray-900">4</span>
          <span class="text-8xl font-bold animate-bounce animation-delay-200 scale-110 text-gray-700">0</span>
          <span class="text-8xl font-bold animate-bounce text-gray-900">4</span>
        </div>
        <div class="relative h-40 my-8">
          <div class="absolute w-full h-full">
            <div class="element absolute top-[20%] left-[20%] text-2xl animate-float">ğŸ’«</div>
            <div class="element absolute top-[10%] right-[25%] text-2xl animate-float animation-delay-500">â­</div>
            <div class="element absolute bottom-[30%] left-[15%] text-2xl animate-float animation-delay-1000">ğŸŒŸ</div>
            <div class="element absolute bottom-[20%] right-[20%] text-2xl animate-float animation-delay-1500">âœ¨</div>
          </div>
          <div class="lost-character absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-wobble">
            <div class="text-6xl mb-2">ğŸ˜µâ€ğŸ’«</div>
            <div class="w-12 h-16 bg-gradient-to-br from-gray-700 to-gray-900 rounded-3xl mx-auto"></div>
          </div>
        </div>
      </div>

      <!-- éŒ¯èª¤è¨Šæ¯ -->
      <div class="mb-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">æ‰¾ä¸åˆ°é é¢</h1>
        <h2 class="text-2xl text-gray-700 mb-4 font-medium">çœ‹èµ·ä¾†ä½ èµ°éŒ¯è·¯äº†ï¼</h2>
        <p class="text-gray-600 leading-relaxed mb-8">
          å¾ˆæŠ±æ­‰ï¼Œæ‚¨è¦å°‹æ‰¾çš„é é¢ä¸å­˜åœ¨ã€‚<br>
          å¯èƒ½æ˜¯ç¶²å€è¼¸å…¥éŒ¯èª¤ï¼Œæˆ–æ˜¯é é¢å·²ç¶“è¢«ç§»å‹•æˆ–åˆªé™¤äº†ã€‚
        </p>
      </div>

      <!-- å»ºè­°æ“ä½œ -->
      <div class="text-left my-8 p-6 bg-gray-50 rounded-2xl">
        <h3 class="text-gray-900 mb-4 text-center">ğŸ¤” æ‚¨å¯ä»¥å˜—è©¦ï¼š</h3>
        <ul class="list-none p-0 m-0">
          <li class="flex items-center gap-3 py-2 text-gray-700">
            <span class="text-xl">ğŸ”</span>
            æª¢æŸ¥ç¶²å€æ˜¯å¦æ­£ç¢º
          </li>
          <li class="flex items-center gap-3 py-2 text-gray-700">
            <span class="text-xl">ğŸ </span>
            å›åˆ°é¦–é é‡æ–°é–‹å§‹
          </li>
          <li class="flex items-center gap-3 py-2 text-gray-700">
            <span class="text-xl">â¬…ï¸</span>
            ä½¿ç”¨ç€è¦½å™¨çš„ä¸Šä¸€é åŠŸèƒ½
          </li>
          <li class="flex items-center gap-3 py-2 text-gray-700">
            <span class="text-xl">ğŸ“§</span>
            è¯ç¹«æˆ‘å€‘çš„æŠ€è¡“æ”¯æ´
          </li>
        </ul>
      </div>

      <!-- å¿«é€Ÿå°èˆª -->
      <div class="my-8">
        <h3 class="text-gray-900 mb-6">ğŸš€ å¿«é€Ÿå°èˆª</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <router-link to="/" class="flex flex-col items-center gap-2 p-6 bg-white border-2 border-gray-200 rounded-2xl no-underline transition-all duration-200 hover:border-gray-900 hover:-translate-y-0.5 hover:shadow-lg">
            <div class="text-3xl">ğŸ </div>
            <div class="text-center">
              <strong class="block text-gray-900 text-sm mb-1">é¦–é </strong>
              <small class="text-gray-600 text-xs">å›åˆ°ä¸»é é¢</small>
            </div>
          </router-link>

          <router-link to="/users" class="flex flex-col items-center gap-2 p-6 bg-white border-2 border-gray-200 rounded-2xl no-underline transition-all duration-200 hover:border-gray-900 hover:-translate-y-0.5 hover:shadow-lg">
            <div class="text-3xl">ğŸ‘¥</div>
            <div class="text-center">
              <strong class="block text-gray-900 text-sm mb-1">ç”¨æˆ¶ç®¡ç†</strong>
              <small class="text-gray-600 text-xs">æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ¶</small>
            </div>
          </router-link>

          <router-link to="/posts" class="flex flex-col items-center gap-2 p-6 bg-white border-2 border-gray-200 rounded-2xl no-underline transition-all duration-200 hover:border-gray-900 hover:-translate-y-0.5 hover:shadow-lg">
            <div class="text-3xl">ğŸ“</div>
            <div class="text-center">
              <strong class="block text-gray-900 text-sm mb-1">æ–‡ç« åˆ—è¡¨</strong>
              <small class="text-gray-600 text-xs">ç€è¦½æ‰€æœ‰æ–‡ç« </small>
            </div>
          </router-link>

          <router-link to="/dashboard" class="flex flex-col items-center gap-2 p-6 bg-white border-2 border-gray-200 rounded-2xl no-underline transition-all duration-200 hover:border-gray-900 hover:-translate-y-0.5 hover:shadow-lg">
            <div class="text-3xl">ğŸ“Š</div>
            <div class="text-center">
              <strong class="block text-gray-900 text-sm mb-1">å„€è¡¨æ¿</strong>
              <small class="text-gray-600 text-xs">æŸ¥çœ‹çµ±è¨ˆè³‡æ–™</small>
            </div>
          </router-link>
        </div>
      </div>

      <!-- æ“ä½œæŒ‰éˆ• -->
      <div class="flex justify-center gap-4 my-8 flex-wrap">
        <button @click="goBack" class="px-6 py-3 rounded-lg font-medium no-underline cursor-pointer transition-all duration-200 border-0 inline-flex items-center gap-2 bg-gray-600 text-white hover:bg-gray-700">
          â¬…ï¸ è¿”å›ä¸Šé 
        </button>
        <router-link to="/" class="px-6 py-3 rounded-lg font-medium no-underline cursor-pointer transition-all duration-200 border-0 inline-flex items-center gap-2 bg-gray-900 text-white hover:bg-gray-800 hover:-translate-y-0.5">
          ğŸ  å›åˆ°é¦–é 
        </router-link>
        <button @click="refreshPage" class="px-6 py-3 rounded-lg font-medium no-underline cursor-pointer transition-all duration-200 inline-flex items-center gap-2 bg-transparent text-gray-900 border-2 border-gray-900 hover:bg-gray-900 hover:text-white">
          ğŸ”„ é‡æ–°æ•´ç†
        </button>
      </div>

      <!-- æœå°‹åŠŸèƒ½ -->
      <div class="my-8">
        <h3 class="text-gray-900 mb-4">ğŸ” æˆ–è€…æœå°‹æ‚¨è¦çš„å…§å®¹</h3>
        <div class="flex max-w-md mx-auto border-2 border-gray-200 rounded-lg overflow-hidden">
          <input
            v-model="searchQuery"
            type="text"
            placeholder="è¼¸å…¥é—œéµå­—æœå°‹..."
            @keyup.enter="performSearch"
            class="flex-1 px-3 py-3 border-0 outline-none text-base"
          />
          <button @click="performSearch" class="bg-gray-900 text-white border-0 px-6 py-3 cursor-pointer transition-colors duration-200 hover:bg-gray-800">
            æœå°‹
          </button>
        </div>
      </div>

      <!-- é è…³è³‡è¨Š -->
      <div class="mt-8 pt-8 border-t border-gray-200 text-gray-600 text-sm">
        <p>éŒ¯èª¤ä»£ç¢¼: 404 | æ™‚é–“: {{ currentTime }}</p>
        <p>
          å¦‚æœå•é¡ŒæŒçºŒå­˜åœ¨ï¼Œè«‹è¯ç¹«
          <a href="mailto:support@example.com" class="text-gray-900 no-underline hover:underline">æŠ€è¡“æ”¯æ´</a>
        </p>
      </div>
    </div>

    <!-- èƒŒæ™¯è£é£¾ -->
    <div class="absolute top-0 left-0 w-full h-full pointer-events-none z-0">
      <div class="bg-circle absolute rounded-full bg-white/10 animate-drift w-[100px] h-[100px] top-[20%] left-[10%]"></div>
      <div class="bg-circle absolute rounded-full bg-white/10 animate-drift animation-delay-2000 w-[150px] h-[150px] top-[60%] right-[10%]"></div>
      <div class="bg-circle absolute rounded-full bg-white/10 animate-drift animation-delay-4000 w-[80px] h-[80px] bottom-[20%] left-[60%]"></div>
      <div class="bg-shape absolute bg-white/5 animate-rotate w-[200px] h-[200px] top-[10%] right-[20%]" style="clip-path: polygon(50% 0%, 0% 100%, 100% 100%);"></div>
      <div class="bg-shape absolute bg-white/5 animate-rotate w-[150px] h-[150px] bottom-[30%] left-[10%]" style="clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);"></div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const searchQuery = ref('')
const currentTime = ref('')

// æ–¹æ³•
const goBack = () => {
  if (window.history.length > 1) {
    router.go(-1)
  } else {
    router.push('/')
  }
}

const refreshPage = () => {
  window.location.reload()
}

const performSearch = () => {
  if (searchQuery.value.trim()) {
    // é€™è£¡å¯ä»¥å°å‘æœå°‹é é¢æˆ–åŸ·è¡Œæœå°‹é‚è¼¯
    console.log('æœå°‹:', searchQuery.value)
    // æš«æ™‚å°å‘é¦–é ï¼Œå¯¦éš›æ‡‰ç”¨ä¸­å¯ä»¥å°å‘æœå°‹çµæœé 
    router.push(`/?search=${encodeURIComponent(searchQuery.value)}`)
  }
}

const updateTime = () => {
  currentTime.value = new Date().toLocaleString('zh-TW')
}

// ç”Ÿå‘½é€±æœŸ
onMounted(() => {
  updateTime()
  // æ¯ç§’æ›´æ–°æ™‚é–“
  setInterval(updateTime, 1000)
})
</script>

<style>
/* ä¿ç•™å‹•ç•« keyframes */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes wobble {
  0%, 100% {
    transform: translate(-50%, -50%) rotate(0deg);
  }
  25% {
    transform: translate(-50%, -50%) rotate(-5deg);
  }
  75% {
    transform: translate(-50%, -50%) rotate(5deg);
  }
}

@keyframes drift {
  0% {
    transform: translateX(-10px);
  }
  50% {
    transform: translateX(10px);
  }
  100% {
    transform: translateX(-10px);
  }
}

@keyframes rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* å‹•ç•« class */
.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-wobble {
  animation: wobble 2s ease-in-out infinite;
}

.animate-drift {
  animation: drift 10s linear infinite;
}

.animate-rotate {
  animation: rotate 15s linear infinite;
}

/* å‹•ç•«å»¶é² */
.animation-delay-200 {
  animation-delay: 0.2s;
}

.animation-delay-500 {
  animation-delay: 0.5s;
}

.animation-delay-1000 {
  animation-delay: 1s;
}

.animation-delay-1500 {
  animation-delay: 1.5s;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}
</style>